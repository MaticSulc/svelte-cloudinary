<!--
	@component
	
	Renders an image from Cloudinary. It supports all of the regular <img>
	props, Cloudinary specific options, and options from unpic. This component
	wraps `@unpic/svelte` which brings high performance and responsive images.  
	
	@example Simple Image

	```svelte
	<script>
		import { CldImage } from 'svelte-cloudinary';
	</script>

	<CldImage
		height={150}
		width={150}
		src="path"
		alt="An awesome image from Cloudinary"
	/>
	```
-->

<script context="module" lang="ts">
	import { type GetCldImageUrlOptions } from '../helpers/getCldImageUrl';
	import type { ImageProps } from '@unpic/svelte';

	export type CldImageProps = ImageProps & GetCldImageUrlOptions;
</script>

<script lang="ts">
	import { getCldImageUrl } from '../helpers/getCldImageUrl';
	import { Image } from '@unpic/svelte';

	type $$Props = CldImageProps;

	$: props = $$props as CldImageProps;
	$: url = getCldImageUrl(props);
</script>

<Image {...props} src={url} on:load on:error></Image>
